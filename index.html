<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Archive</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>Archive</h1>
  <nav id="filters"></nav>
</header>

<main id="selected">
  <h2>Selected</h2>
  <div class="grid" id="selectedGrid"></div>
</main>

<main id="archive">
  <h2>All Projects</h2>
  <div class="grid" id="archiveGrid"></div>
</main>

<script src="data.js"></script>
<script>
  const filters = new Set();
  PROJECTS.forEach(p => p.tags.forEach(t => filters.add(t)));

  const filterNav = document.getElementById("filters");
  filters.forEach(tag => {
    const btn = document.createElement("button");
    btn.textContent = tag;
    btn.onclick = () => render(tag);
    filterNav.appendChild(btn);
  });

  function card(p) {
    return `
      <a class="card" href="project.html?id=${p.id}">
        <img src="${p.thumb}">
        <div class="meta">
          <strong>${p.title}</strong>
          <span>${p.year}</span>
        </div>
      </a>`;
  }

  function render(filter = null) {
    document.getElementById("selectedGrid").innerHTML =
      PROJECTS.filter(p => p.selected && (!filter || p.tags.includes(filter)))
        .map(card).join("");

    document.getElementById("archiveGrid").innerHTML =
      PROJECTS.filter(p => !filter || p.tags.includes(filter))
        .map(card).join("");
  }

  render();
</script>

</body>
</html>
